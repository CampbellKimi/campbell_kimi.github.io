<!DOCTYPE html>
<html>
<head>
<title>DOM Manipulation + Standard JS Events</title>
<meta charset="utf-8"> 

<link rel="stylesheet" href="../css/bootstrap.css" type="text/css"/>

<style>
  


#grocery:hover {
  background-color: blue;
  
}
  
 #cart {
      position: relative;
      cursor: pointer;
    }
    .title {
      text-align: center;
		  padding: 100px 0 0 0;
      
      -webkit-animation: rotation 2s infinite linear;
    }

    @-webkit-keyframes rotation {
        from {
            -webkit-transform: rotate(0deg);
        }
        to {
            -webkit-transform: rotate(359deg);
        }
    }
</style>
</head>

<body>
<a href="./onTouch.html">On Touch? Click Here.</a>
<meta charset="utf-8"> 

<link rel="stylesheet" href="../css/bootstrap.css" type="text/css"/>

<script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
<script src="../js/bootstrap.js"></script>

      <p class="title">Grocery List</p>
      <div id="result"></div>
  <br><br>
      <input type="text" id="grocery" onfocus="this.value=''">
      <button id = "btn" onclick="groceryList()">Add</button>
      <button id = "memory" onclick="locSto()">Retrieve Cleared List item</button>
      <button id = "clear">Clear</button>
      <button onclick="clickCounter()" type="button">Click to see Session Storage</button>

      <ul id="myList">
        
      </ul>
      <p id ="locSto"></p>
  <img id="cart" src="https://www.zanduco.com/UserFiles/product/25000-014_Shopping-Cart.jpg">
      <script>
      function clickCounter() {
        if (typeof(Storage) !== "undefined") {
          if (sessionStorage.clickcount) {
            sessionStorage.clickcount = Number(sessionStorage.clickcount)+1;
          } else {
            sessionStorage.clickcount = 1;
          }
          
          document.getElementById("result").innerHTML = "You've clicked this " + sessionStorage.clickcount + " time(s) without closing the tab";
        } else {
          document.getElementById("result").innerHTML = "Sorry, your browser does not support web storage...";
        }
      }
      $("#clear").click(function(){
        $("#myList").empty();
      });
      function locSto(){
        document.getElementById("locSto").innerHTML += localStorage.getItem("list");
      }
      function groceryList() {  
        var list = document.getElementById("grocery").value;
        
        console.log(list);
        var newItem = document.createElement("li");
        var textnode = document.createTextNode(list);
        newItem.appendChild(textnode);
        localStorage.setItem("list", list);
        var list = document.getElementById("myList");
        list.insertBefore(newItem, list.childNodes[0]);
      }
      var input = document.getElementById("grocery");
      input.addEventListener("keyup", function(event) {
        if (event.keyCode === 13) {
        event.preventDefault();
        document.getElementById("btn").click();
        }
      });
        cart.onload = function() {
        let start = Date.now();

        let timer = setInterval(function() {
        let timePassed = Date.now() - start;

        cart.style.left = timePassed / 5 + 'px';

        if (timePassed > 2000) clearInterval(timer);

      }, 20);
    }
        
    document.getElementById("grocery").style.transition = "all 10s";
        </script>
</body>
</html>
